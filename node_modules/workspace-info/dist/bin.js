#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var yargs_1 = tslib_1.__importDefault(require("yargs"));
var index_1 = require("./index");
var argv = yargs_1.default
    .option('cwd', { type: 'string' })
    .option('lerna', { type: 'boolean' })
    .option('skip-dev', { type: 'boolean' })
    .option('peer', { type: 'boolean' })
    .option('verbose', { alias: 'v', type: 'boolean' })
    .help('help').argv;
function main() {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var res;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, index_1.getWorkspaceInfo({
                        cwd: argv.cwd || process.cwd(),
                        skipDev: argv['skip-dev'],
                        includePeer: argv.peer,
                        useLerna: argv.lerna,
                    })];
                case 1:
                    res = _a.sent();
                    console.log(JSON.stringify(res, null, 4));
                    return [2 /*return*/];
            }
        });
    });
}
main().catch(function (e) { return console.error(argv.verbose ? e : e.message); });
//# sourceMappingURL=bin.js.map